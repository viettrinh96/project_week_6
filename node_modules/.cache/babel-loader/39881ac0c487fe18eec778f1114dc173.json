{"ast":null,"code":"import * as types from \"../constants/auth.constants\";\nimport { toast } from \"react-toastify\";\nimport api from \"../../apiService\";\n\nconst loginRequest = ({\n  email,\n  password\n}) => async dispatch => {\n  dispatch({\n    type: types.LOGIN_REQUEST,\n    payload: null\n  });\n\n  try {\n    const res = await api.post(`/api/auth/login`, {\n      email,\n      password\n    });\n    dispatch({\n      type: types.LOGIN_SUCCESS,\n      payload: res.data.data\n    });\n    toast.success(`Welcome ${res.data.data.user.name}`);\n  } catch (error) {\n    dispatch({\n      type: types.LOGIN_FAILURE,\n      payload: null\n    });\n  }\n};\n\nconst registerAccount = ({\n  avatarUrl,\n  name,\n  email,\n  password\n}) => async (dispatch) => {\n  dispatch({\n    type: types.LOGIN_REQUEST,\n    payload: null\n  });\n\n  try {\n    const res = await api.post(`/api/users`, {\n      email,\n      password,\n      name,\n      avatarUrl\n    });\n    dispatch({\n      type: types.LOGIN_SUCCESS,\n      payload: res.data.data\n    });\n    toast.success(`Welcome ${res.data.data.user.name}`);\n  } catch (error) {\n    dispatch({\n      type: types.LOGIN_FAILURE,\n      payload: null\n    });\n  }\n};\n\nconst authActions = {\n  loginRequest,\n  registerAccount\n};\nexport default authActions;","map":{"version":3,"sources":["/Users/viettrinh/Documents/Coderschool/week6_project/social-blog/src/redux/actions/auth.actions.js"],"names":["types","toast","api","loginRequest","email","password","dispatch","type","LOGIN_REQUEST","payload","res","post","LOGIN_SUCCESS","data","success","user","name","error","LOGIN_FAILURE","registerAccount","avatarUrl","authActions"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,6BAAvB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,GAAP,MAAgB,kBAAhB;;AAEA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,KAAyB,MAAOC,QAAP,IAAoB;AAChEA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEP,KAAK,CAACQ,aAAd;AAA6BC,IAAAA,OAAO,EAAE;AAAtC,GAAD,CAAR;;AACA,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMR,GAAG,CAACS,IAAJ,CAAU,iBAAV,EAA4B;AAAEP,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAA5B,CAAlB;AACAC,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP,KAAK,CAACY,aAAd;AAA6BH,MAAAA,OAAO,EAAEC,GAAG,CAACG,IAAJ,CAASA;AAA/C,KAAD,CAAR;AACAZ,IAAAA,KAAK,CAACa,OAAN,CAAe,WAAUJ,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAcE,IAAd,CAAmBC,IAAK,EAAjD;AACD,GAJD,CAIE,OAAOC,KAAP,EAAc;AACdX,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP,KAAK,CAACkB,aAAd;AAA6BT,MAAAA,OAAO,EAAE;AAAtC,KAAD,CAAR;AACD;AACF,CATD;;AAWA,MAAMU,eAAe,GAAG,CAAC;AAAEC,EAAAA,SAAF;AAAaJ,EAAAA,IAAb;AAAmBZ,EAAAA,KAAnB;AAA0BC,EAAAA;AAA1B,CAAD,KAA0C,OAChEC,QADgE,KAE7D;AACHA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEP,KAAK,CAACQ,aAAd;AAA6BC,IAAAA,OAAO,EAAE;AAAtC,GAAD,CAAR;;AACA,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMR,GAAG,CAACS,IAAJ,CAAU,YAAV,EAAuB;AACvCP,MAAAA,KADuC;AAEvCC,MAAAA,QAFuC;AAGvCW,MAAAA,IAHuC;AAIvCI,MAAAA;AAJuC,KAAvB,CAAlB;AAMAd,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP,KAAK,CAACY,aAAd;AAA6BH,MAAAA,OAAO,EAAEC,GAAG,CAACG,IAAJ,CAASA;AAA/C,KAAD,CAAR;AACAZ,IAAAA,KAAK,CAACa,OAAN,CAAe,WAAUJ,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAcE,IAAd,CAAmBC,IAAK,EAAjD;AACD,GATD,CASE,OAAOC,KAAP,EAAc;AACdX,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP,KAAK,CAACkB,aAAd;AAA6BT,MAAAA,OAAO,EAAE;AAAtC,KAAD,CAAR;AACD;AACF,CAhBD;;AAiBA,MAAMY,WAAW,GAAG;AAClBlB,EAAAA,YADkB;AAElBgB,EAAAA;AAFkB,CAApB;AAIA,eAAeE,WAAf","sourcesContent":["import * as types from \"../constants/auth.constants\";\nimport { toast } from \"react-toastify\";\nimport api from \"../../apiService\";\n\nconst loginRequest = ({ email, password }) => async (dispatch) => {\n  dispatch({ type: types.LOGIN_REQUEST, payload: null });\n  try {\n    const res = await api.post(`/api/auth/login`, { email, password });\n    dispatch({ type: types.LOGIN_SUCCESS, payload: res.data.data });\n    toast.success(`Welcome ${res.data.data.user.name}`);\n  } catch (error) {\n    dispatch({ type: types.LOGIN_FAILURE, payload: null });\n  }\n};\n\nconst registerAccount = ({ avatarUrl, name, email, password }) => async (\n  dispatch\n) => {\n  dispatch({ type: types.LOGIN_REQUEST, payload: null });\n  try {\n    const res = await api.post(`/api/users`, {\n      email,\n      password,\n      name,\n      avatarUrl,\n    });\n    dispatch({ type: types.LOGIN_SUCCESS, payload: res.data.data });\n    toast.success(`Welcome ${res.data.data.user.name}`);\n  } catch (error) {\n    dispatch({ type: types.LOGIN_FAILURE, payload: null });\n  }\n};\nconst authActions = {\n  loginRequest,\n  registerAccount,\n};\nexport default authActions;\n"]},"metadata":{},"sourceType":"module"}